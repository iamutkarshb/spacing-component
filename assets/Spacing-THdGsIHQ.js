import{d as j,b as w,r as G,e as K,w as N,o as P,f as M,n as J,g as c,j as g,k as b,F as T,l as C,m as R,p as A,q as f,s as D,t as F,u as U}from"./vue.esm-bundler-Dam2dRbx.js";import X from"./Dropdown-C_xH7ADO.js";import Y from"./Input-DX5tnuxo.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $=(e,t)=>[{side:"top",style:{top:t.vertical,left:"50%",transform:"translateX(-50%)",zIndex:1e3},title:`${e}-top`},{side:"bottom",style:{bottom:t.vertical,left:"50%",transform:"translateX(-50%)",zIndex:"1000"},title:`${e}-bottom`},{side:"left",style:{left:t.horizontal,top:"50%",transform:"translateY(-50%)",zIndex:"1000"},title:`${e}-left`},{side:"right",style:{right:t.horizontal,top:"50%",transform:"translateY(-50%)",zIndex:"1000"},title:`${e}-right`}],H=(e,t)=>CSS.supports(e,t),z=j({name:"Spacing",components:{Dropdown:X,Input:Y},props:{value:{type:Object,default:void 0},defaultValue:{type:Object,default:()=>({margin:"auto",padding:"auto"})},customOptions:{type:Array,default:()=>[]},disableSuggestion:{type:Object,default:()=>({margin:!1,padding:!1})},readOnlyFields:{type:Object,default:()=>({margin:{top:!1,right:!1,bottom:!1,left:!1},padding:{top:!1,right:!1,bottom:!1,left:!1}})}},emits:["onUpdate"],setup(e,{emit:t}){const r=w(!1),m=w(null),d=w(null),i=w(null),v=$("margin",{vertical:"7px",horizontal:"6px"}),V=$("padding",{vertical:"8px",horizontal:"11px"}),a=G({margin:{top:e.value?.margin?.top??e.defaultValue.margin,right:e.value?.margin?.right??e.defaultValue.margin,bottom:e.value?.margin?.bottom??e.defaultValue.margin,left:e.value?.margin?.left??e.defaultValue.margin},padding:{top:e.value?.padding?.top??e.defaultValue.padding,right:e.value?.padding?.right??e.defaultValue.padding,bottom:e.value?.padding?.bottom??e.defaultValue.padding,left:e.value?.padding?.left??e.defaultValue.padding}}),n=K(()=>d.value?[...e.customOptions||[],{label:`Set this value to ${e.defaultValue?.[d.value]??""}`,applyToAll:!1,valueToApply:`${e.defaultValue?.[d.value]??""}`},{label:"Set all value to this value",applyToAll:!0,valueToApply:`${i.value?a?.[d.value]?.[i.value]:""}`},{label:"Set this value to auto",applyToAll:!1,valueToApply:"auto"},{label:"Set all values to auto",applyToAll:!0,valueToApply:"auto"},{label:"Unset this value",applyToAll:!1,valueToApply:"unset"},{label:"Unset all values",applyToAll:!0,valueToApply:"unset"}]:[]),S=()=>({margin:{...a.margin},padding:{...a.padding}}),I=(o,l,s)=>{const p=H(o,s)?s:"0px",u=s===""?e.defaultValue[o]:p;a[o][l]=u;const h={[o]:{[l]:u}};t("onUpdate",JSON.stringify({changed:h,value:S()},null,2))},B=(o,l,s)=>{o.stopPropagation(),d.value=l,i.value=s,m.value=o.currentTarget,J(()=>r.value=!0)},y=()=>{r.value=!1,m.value=null,d.value=null,i.value=null},E=o=>{if(!d.value||!i.value){y();return}const l=d.value,s=i.value,p=o.valueToApply??e.defaultValue?.[l],u={};o.applyToAll?Object.keys(a[l]).forEach(h=>{a[l][h]=p,u[l]={...u[l],[h]:p}}):(a[l][s]=p,u[l]={...u[l],[s]:p}),t("onUpdate",JSON.stringify({changed:u,value:S()},null,2)),y()},k=()=>{r.value&&y()},O=o=>{o.key==="Escape"&&r.value&&y()};return N(()=>e.value,o=>{o&&["top","right","bottom","left"].forEach(l=>{a.margin[l]=o.margin?.[l]??e.defaultValue.margin,a.padding[l]=o.padding?.[l]??e.defaultValue.padding})},{deep:!0}),P(()=>{document.addEventListener("click",k),window.addEventListener("keydown",O)}),M(()=>{document.removeEventListener("click",k),window.removeEventListener("keydown",O)}),{current:a,marginFields:v,paddingFields:V,activeGroup:d,activeSide:i,isDropdownOpen:r,dropdownTarget:m,dropdownList:n,handleChange:I,openDropdown:B,onDropdownSelected:E}}}),L="data:image/svg+xml,%3csvg%20width='5'%20height='4'%20viewBox='0%200%205%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201L2.5%203L4%201'%20stroke='%23485350'/%3e%3c/svg%3e",Q={class:"spacing-outer"},W=["onClick","aria-expanded"],Z={class:"spacing-middle"},x=["onClick","aria-expanded"];function _(e,t,r,m,d,i){const v=A("Input"),V=A("Dropdown");return f(),c("div",Q,[t[2]||(t[2]=g("div",{class:"title title-margin"},"Margins",-1)),(f(!0),c(T,null,C(e.marginFields,a=>(f(),c("div",{key:a.side,class:F(["spacing-input-field",a.side]),style:D(a.style)},[b(v,{modelValue:e.current.margin[a.side],"onUpdate:modelValue":n=>e.current.margin[a.side]=n,onBlur:n=>e.handleChange("margin",a.side,n.target.value),onKeydown:U(n=>e.handleChange("margin",a.side,n.target.value),["enter"]),placeholder:"0px",title:a.title,readonly:e.readOnlyFields.margin[a.side]},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeydown","title","readonly"]),g("img",{src:L,class:"dropdown-icon",onClick:n=>e.openDropdown(n,"margin",a.side),role:"button","aria-expanded":e.isDropdownOpen},null,8,W)],6))),128)),g("div",Z,[t[1]||(t[1]=g("div",{class:"title"},"Paddings",-1)),(f(!0),c(T,null,C(e.paddingFields,a=>(f(),c("div",{key:a.side,class:F(["spacing-input-field",a.side]),style:D(a.style)},[b(v,{modelValue:e.current.padding[a.side],"onUpdate:modelValue":n=>e.current.padding[a.side]=n,onBlur:n=>e.handleChange("padding",a.side,n.target.value),onKeydown:U(n=>e.handleChange("padding",a.side,n.target.value),["enter"]),placeholder:"0px",title:a.title,readonly:e.readOnlyFields.padding[a.side]||!1},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeydown","title","readonly"]),g("img",{src:L,class:"dropdown-icon",onClick:n=>e.openDropdown(n,"padding",a.side),role:"button","aria-expanded":e.isDropdownOpen},null,8,x)],6))),128)),R(e.$slots,"default",{},()=>[t[0]||(t[0]=g("div",{class:"responsive-box"},null,-1))],!0)]),b(V,{open:e.isDropdownOpen,dropdownList:e.dropdownList,target:e.dropdownTarget,title:"Suggestions",onSelected:e.onDropdownSelected,disabled:e.activeGroup&&e.disableSuggestion?.[e.activeGroup]||e.activeGroup&&e.activeSide&&e.readOnlyFields?.[e.activeGroup]?.[e.activeSide]||!1},null,8,["open","dropdownList","target","onSelected","disabled"])])}const te=q(z,[["render",_],["__scopeId","data-v-8bf7a6fd"]]);z.__docgenInfo={displayName:"Spacing",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"SpacingValueProps"},defaultValue:{func:!1,value:"undefined"}},{name:"defaultValue",type:{name:"SpacingProps['defaultValue']"},defaultValue:{func:!0,value:`() => ({
  margin: 'auto',
  padding: 'auto',
})`}},{name:"customOptions",type:{name:"SpacingCustomItemProps[]"},defaultValue:{func:!0,value:"() => []"}},{name:"disableSuggestion",type:{name:"Record<Group, boolean>"},defaultValue:{func:!0,value:`() => ({
  margin: false,
  padding: false,
})`}},{name:"readOnlyFields",type:{name:"SpacingReadOnlyFieldProps"},defaultValue:{func:!0,value:`() => ({
  margin: { top: false, right: false, bottom: false, left: false },
  padding: { top: false, right: false, bottom: false, left: false },
})`}}],events:[{name:"onUpdate"}],slots:[{name:"default"}],sourceFiles:["/Users/utkarsh/Desktop/repo/spacing-component/src/components/Spacing.vue"]};export{te as default};

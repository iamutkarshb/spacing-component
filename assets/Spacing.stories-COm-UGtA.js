import{d as N,b as v,r as P,e as G,w as K,o as M,f as J,n as R,g as f,j as c,k as V,F as A,l as D,m as X,p as U,q as m,s as x,t as C,u as I}from"./vue-LExGCmp6.js";import{D as Y}from"./Dropdown-UuCoTytJ.js";import{I as q}from"./Input-1fPxW97h.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=(e,t)=>[{side:"top",style:{top:t.vertical,left:"50%",transform:"translateX(-50%)",zIndex:1e3},title:`${e}-top`},{side:"bottom",style:{bottom:t.vertical,left:"50%",transform:"translateX(-50%)",zIndex:"1000"},title:`${e}-bottom`},{side:"left",style:{left:t.horizontal,top:"50%",transform:"translateY(-50%)",zIndex:"1000"},title:`${e}-left`},{side:"right",style:{right:t.horizontal,top:"50%",transform:"translateY(-50%)",zIndex:"1000"},title:`${e}-right`}],Q=(e,t)=>CSS.supports(e,t),$=N({name:"Spacing",components:{Dropdown:Y,Input:q},props:{value:{type:Object,default:void 0},defaultValue:{type:Object,default:()=>({margin:"auto",padding:"auto"})},customOptions:{type:Array,default:()=>[]},disableSuggestion:{type:Object,default:()=>({margin:!1,padding:!1})},readOnlyFields:{type:Object,default:()=>({margin:{top:!1,right:!1,bottom:!1,left:!1},padding:{top:!1,right:!1,bottom:!1,left:!1}})}},emits:["onUpdate"],setup(e,{emit:t}){const u=v(!1),p=v(null),d=v(null),i=v(null),h=F("margin",{vertical:"7px",horizontal:"6px"}),S=F("padding",{vertical:"8px",horizontal:"11px"}),a=P({margin:{top:e.value?.margin?.top??e.defaultValue.margin,right:e.value?.margin?.right??e.defaultValue.margin,bottom:e.value?.margin?.bottom??e.defaultValue.margin,left:e.value?.margin?.left??e.defaultValue.margin},padding:{top:e.value?.padding?.top??e.defaultValue.padding,right:e.value?.padding?.right??e.defaultValue.padding,bottom:e.value?.padding?.bottom??e.defaultValue.padding,left:e.value?.padding?.left??e.defaultValue.padding}}),l=G(()=>d.value?[...e.customOptions||[],{label:`Set this value to ${e.defaultValue?.[d.value]??""}`,applyToAll:!1,valueToApply:`${e.defaultValue?.[d.value]??""}`},{label:"Set all value to this value",applyToAll:!0,valueToApply:`${i.value?a?.[d.value]?.[i.value]:""}`},{label:"Set this value to auto",applyToAll:!1,valueToApply:"auto"},{label:"Set all values to auto",applyToAll:!0,valueToApply:"auto"},{label:"Unset this value",applyToAll:!1,valueToApply:"unset"},{label:"Unset all values",applyToAll:!0,valueToApply:"unset"}]:[]),O=()=>({margin:{...a.margin},padding:{...a.padding}}),z=(o,n,s)=>{const g=Q(o,s)?s:"0px",r=s===""?e.defaultValue[o]:g;a[o][n]=r;const w={[o]:{[n]:r}};t("onUpdate",JSON.stringify({changed:w,value:O()},null,2))},E=(o,n,s)=>{o.stopPropagation(),d.value=n,i.value=s,p.value=o.currentTarget,R(()=>u.value=!0)},b=()=>{u.value=!1,p.value=null,d.value=null,i.value=null},B=o=>{if(!d.value||!i.value){b();return}const n=d.value,s=i.value,g=o.valueToApply??e.defaultValue?.[n],r={};o.applyToAll?Object.keys(a[n]).forEach(w=>{a[n][w]=g,r[n]={...r[n],[w]:g}}):(a[n][s]=g,r[n]={...r[n],[s]:g}),t("onUpdate",JSON.stringify({changed:r,value:O()},null,2)),b()},k=()=>{u.value&&b()},T=o=>{o.key==="Escape"&&u.value&&b()};return K(()=>e.value,o=>{o&&["top","right","bottom","left"].forEach(n=>{a.margin[n]=o.margin?.[n]??e.defaultValue.margin,a.padding[n]=o.padding?.[n]??e.defaultValue.padding})},{deep:!0}),M(()=>{document.addEventListener("click",k),window.addEventListener("keydown",T)}),J(()=>{document.removeEventListener("click",k),window.removeEventListener("keydown",T)}),{current:a,marginFields:h,paddingFields:S,activeGroup:d,activeSide:i,isDropdownOpen:u,dropdownTarget:p,dropdownList:l,handleChange:z,openDropdown:E,onDropdownSelected:B}}}),j="data:image/svg+xml,%3csvg%20width='5'%20height='4'%20viewBox='0%200%205%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201L2.5%203L4%201'%20stroke='%23485350'/%3e%3c/svg%3e",W={class:"spacing-outer"},Z=["onClick","aria-expanded"],_={class:"spacing-middle"},ee=["onClick","aria-expanded"];function ae(e,t,u,p,d,i){const h=U("Input"),S=U("Dropdown");return m(),f("div",W,[t[2]||(t[2]=c("div",{class:"title title-margin"},"Margins",-1)),(m(!0),f(A,null,D(e.marginFields,a=>(m(),f("div",{key:a.side,class:C(["spacing-input-field",a.side]),style:x(a.style)},[V(h,{modelValue:e.current.margin[a.side],"onUpdate:modelValue":l=>e.current.margin[a.side]=l,onBlur:l=>e.handleChange("margin",a.side,l.target.value),onKeydown:I(l=>e.handleChange("margin",a.side,l.target.value),["enter"]),placeholder:"0px",title:a.title,readonly:e.readOnlyFields.margin[a.side]},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeydown","title","readonly"]),c("img",{src:j,class:"dropdown-icon",onClick:l=>e.openDropdown(l,"margin",a.side),role:"button","aria-expanded":e.isDropdownOpen},null,8,Z)],6))),128)),c("div",_,[t[1]||(t[1]=c("div",{class:"title"},"Paddings",-1)),(m(!0),f(A,null,D(e.paddingFields,a=>(m(),f("div",{key:a.side,class:C(["spacing-input-field",a.side]),style:x(a.style)},[V(h,{modelValue:e.current.padding[a.side],"onUpdate:modelValue":l=>e.current.padding[a.side]=l,onBlur:l=>e.handleChange("padding",a.side,l.target.value),onKeydown:I(l=>e.handleChange("padding",a.side,l.target.value),["enter"]),placeholder:"0px",title:a.title,readonly:e.readOnlyFields.padding[a.side]||!1},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeydown","title","readonly"]),c("img",{src:j,class:"dropdown-icon",onClick:l=>e.openDropdown(l,"padding",a.side),role:"button","aria-expanded":e.isDropdownOpen},null,8,ee)],6))),128)),X(e.$slots,"default",{},()=>[t[0]||(t[0]=c("div",{class:"responsive-box"},null,-1))],!0)]),V(S,{open:e.isDropdownOpen,dropdownList:e.dropdownList,target:e.dropdownTarget,title:"Suggestions",onSelected:e.onDropdownSelected,disabled:e.activeGroup&&e.disableSuggestion?.[e.activeGroup]||e.activeGroup&&e.activeSide&&e.readOnlyFields?.[e.activeGroup]?.[e.activeSide]||!1},null,8,["open","dropdownList","target","onSelected","disabled"])])}const L=H($,[["render",ae],["__scopeId","data-v-8bf7a6fd"]]);$.__docgenInfo={displayName:"Spacing",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"SpacingValueProps"},defaultValue:{func:!1,value:"undefined"}},{name:"defaultValue",type:{name:"SpacingProps['defaultValue']"},defaultValue:{func:!0,value:`() => ({
  margin: 'auto',
  padding: 'auto',
})`}},{name:"customOptions",type:{name:"SpacingCustomItemProps[]"},defaultValue:{func:!0,value:"() => []"}},{name:"disableSuggestion",type:{name:"Record<Group, boolean>"},defaultValue:{func:!0,value:`() => ({
  margin: false,
  padding: false,
})`}},{name:"readOnlyFields",type:{name:"SpacingReadOnlyFieldProps"},defaultValue:{func:!0,value:`() => ({
  margin: { top: false, right: false, bottom: false, left: false },
  padding: { top: false, right: false, bottom: false, left: false },
})`}}],events:[{name:"onUpdate"}],slots:[{name:"default"}],sourceFiles:["/Users/utkarsh/Desktop/repo/spacing-component/src/components/Spacing.vue"]};const ie={title:"Components/Spacing",component:L,tags:["autodocs"],argTypes:{value:{control:"object",description:'Object with margin and padding. Example: { margin: { top: "12px", bottom: "auto", right: "auto", left: "auto" }, padding: { top: "12%", bottom: "12%", right: "12%", left: "12%" } }'},defaultValue:{control:"object",description:"Default values for margin and padding if value is empty"},customOptions:{control:"object",description:"Array of custom dropdown options"},disableSuggestion:{control:"object",description:"Disable suggestions dropdown for margin and padding"},readOnlyFields:{control:"object",description:"Make the input-field read-only"}}},te=e=>({components:{Spacing:L},setup(){const t=v(null);return{args:e,updatedItem:t,onUpdate:p=>{t.value=p}}},template:`
    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
      <Spacing v-bind="args" style="max-width: 90%" @onUpdate="onUpdate" />
      <pre style="background: #f0f0f0; padding: 10px; border-radius: 4px; max-width: 600px; width: 100%; overflow-x: auto;">
{{ updatedItem ?? 'No update yet' }}
      </pre>
    </div>
  `}),y=te.bind({});y.args={value:{margin:{top:"12px",bottom:"auto",right:"auto",left:"auto"},padding:{top:"12%",bottom:"12%",right:"12%",left:"12%"}},defaultValue:{margin:"20px",padding:"20px"},disableSuggestion:{margin:!1,padding:!1},readOnlyFields:{margin:{top:!1,bottom:!1,right:!1,left:!1},padding:{top:!1,bottom:!1,right:!1,left:!1}},customOptions:[{label:"Apply Small (8px) to All",applyToAll:!1,valueToApply:"8px"}]};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`(args: SpacingProps) => ({
  components: {
    Spacing
  },
  setup() {
    const updatedItem = ref<string | null>(null);
    const onUpdate = (item: string) => {
      updatedItem.value = item;
    };
    return {
      args,
      updatedItem,
      onUpdate
    };
  },
  template: \`
    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
      <Spacing v-bind="args" style="max-width: 90%" @onUpdate="onUpdate" />
      <pre style="background: #f0f0f0; padding: 10px; border-radius: 4px; max-width: 600px; width: 100%; overflow-x: auto;">
{{ updatedItem ?? 'No update yet' }}
      </pre>
    </div>
  \`
})`,...y.parameters?.docs?.source}}};const se=["Default"];export{y as Default,se as __namedExportsOrder,ie as default};
